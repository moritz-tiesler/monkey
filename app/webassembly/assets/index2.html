<!doctype html>

<html>

	<head>

		<meta charset="utf-8"/>

		<script src="wasm_exec.js"></script>

		<script>

			const go = new Go();

			WebAssembly.instantiateStreaming(fetch("json.wasm"), go.importObject).then((result) => {

				go.run(result.instance);

			});

		</script>

	</head>

	<body>
		
		<form onsubmit="return false">
			<input id="codeinput" name="codeinput" type="text" /><br />
			<input type="submit" onclick="json(codeinput.value)"/>
		</form>

         <textarea id="codeoutput" name="codeoutput" cols="80" rows="20"></textarea>
	</body>
	<script>

        var json = function(input) {

            codeoutput.value = runREPL(input)
			codeinput.value = ""

        }

     </script>

</html>